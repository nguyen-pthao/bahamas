<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <body>
        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper" style="margin:0px" id="edit-contact" cg-busy="{promise:myPromise,templateUrl:'./style/ngTemplate/cgBusy.html',minDuration:1500}" ng-init="retrieveFunc()">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <h3>
                    <ol class="breadcrumb">
                        <li><i class="fa fa-home"></i><a href="" ng-click="backHome()" style="color: white"> Homepage </a><i class="fa fa-chevron-right small"></i> <a href="" ng-click="viewAllContacts()" style="color: white"> Contact Management </a><i class="fa fa-chevron-right small"></i><a style="color: white"> Edit {{editContact['name']| uppercase}} </a></li>
                    </ol>                    
                </h3>
            </section>
            <!-- Main content -->
            <section class="content">
                <!-- Outer box -->
                <div class="box">
                    <div class="box-header with-border">
                        <h3 class="box-title uppercase"><b> Edit {{editContact['name']| uppercase}} </b></h3>
                        <button type="submit" ng-click="viewContact()" class="btn btn-primary" style='float: right'>
                            <span>
                                <i class="fa fa-eye fa-lg" aria-hidden="true" style='color: white; margin-right:5px'></i>
                            </span>   
                            Return To View
                        </button>
                    </div>
                    <!-- form start -->
                    <div class="box-body">
                        <form name="editUserForm">
                            <div class="box collapsed-box blue-box" ng-show="isAdmin || (editMode == 'false')">
                                <div class="box-header with-border" data-widget='collapse'>
                                    <h4 class="box-title uppercase"><i class="fa fa-user"></i> &nbsp; User information</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View User Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body hidden-box">
                                    <div class="form-group">
                                        <div class="col-md-8">
                                            <!-- The contact is not a user -->
                                            <div class="form-group" ng-show="!isUser && isAdmin">
                                                <label>Username</label><span class="required">*</span>
                                                <div class="no-padding-left col-md-12">
                                                    <div class="no-padding-left col-md-6">
                                                        <input type='text' class="form-control" ng-model='editUser.username' name="usernameNU" empty>
                                                        <span ng-show="editUserForm.usernameNU.$error.empty && editUserForm.usernameNU.$dirty" class='error'>Username is required.</span>
                                                        <!--                                                        <span ng-show="(editUser.username == '') && editUserForm.usernameNU.$dirty" style="color: red">Username is required.</span>-->
                                                        <span ng-show="existedUsername && ignore" style="color: red">This username is already existed.</span>
                                                    </div>
                                                    <!--    <div class="no-padding-left col-md-1 no-padding-top">
                                                                <i ng-show="checkingUsername && !checkedUsername && editUserForm.usernameNU.$touched" class="fa fa-spinner fa-spin fa-pulse fa-fw fa-2x"></i>
                                                                <i ng-show="checkedUsername && (!existedUsername) && editUserForm.usernameNU.$touched" class="fa fa-check fa-2x"></i>
                                                                <i ng-show="checkedUsername && existedUsername && editUserForm.usernameNU.$touched" class="fa fa-close fa-2x"></i>
                                                            </div>
                                                    -->
                                                </div>
                                            </div>
                                            <div class="form-group" ng-show="!isUser && isAdmin">
                                                <label>Password</label><span class="required">*</span>
                                                <div class="no-padding-left col-md-12">
                                                    <div class="no-padding-left col-md-6">
                                                        <input type="text" ng-model='editUser.password' class="form-control" name="passwordNU" ng-minlength="8" ng-maxlength="20" empty>
                                                        <span ng-show="editUserForm.passwordNU.$error.empty && editUserForm.passwordNU.$dirty" class='error'>Password is required.</span>
                                                        <span ng-show="(editUserForm.passwordNU.$error.maxlength || editUserForm.passwordNU.$error.minlength) && editUserForm.passwordNU.$touched" style="color: red">Password has to be 8 to 20 characters long.</span>
                                                    </div>
                                                    <div class="no-padding-left col-md-4 no-padding-top">
                                                        <button type="button" ng-disabled="editUserForm.usernameNU.$invalid || existedUsername" class="btn btn-primary" ng-click="generatePassword()">Generate Random Password</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group" ng-show="!isUser && isAdmin">
                                                <label>User email</label><span class="required">*</span>
                                                <!--<input type="text" ng-model='editUser.email' class="form-control" name="useremailNU">-->
                                                <div class="no-padding-left col-md-12">
                                                    <div class="no-padding-left col-md-6">
                                                        <select class="form-control" name="useremailNU" ng-model="editUser.email" ng-show="!(editVerifiedEmail == '')" empty>
                                                            <option ng-repeat="userEmail in emailList">{{userEmail.email}}</option>
                                                        </select>
                                                        <span ng-show='editUserForm.useremailNU.$error.empty && editUserForm.useremailNU.$dirty' class='error'>Email is required</span>
                                                    </div>
                                                    <label ng-show="editVerifiedEmail == ''">This user does not have a verified email. Please let him/her verify email before proceeding.</label>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- The contact is a user -->
                                        <div class="col-md-5">
                                            <div class="form-group" ng-show="isUser || (isAdmin && isUser)">
                                                <label>Username</label>
                                                <input type='text' class="form-control" ng-model='editUser.username' name="usernameU" readonly>
                                            </div>
                                            <!-- The contact is a user and he/she wants to change password -->
                                            <div class="form-group" ng-show="(editMode == 'false')">
                                                <center>
                                                    <button type="button" class="btn btn-primary" ng-click="changePassword()" ng-show="!changePass">Change Password</button>
                                                </center>
                                            </div>
                                            <div class="form-group" ng-show="(editMode == 'false') && changePass">
                                                <label>Current Password</label><span class="required">*</span>
                                                <input type="password" ng-model='editUser["current_password"]' class="form-control" name="oldPassword" empty>
                                                <span ng-show='editUserForm.oldPassword.$error.empty && editUserForm.oldPassword.$dirty' class='error'>Current password is required.</span>
                                            </div>
                                            <div class="form-group" ng-show="(editMode == 'false') && changePass">
                                                <label>New Password</label><span class="required">*</span>
                                                <input type="password" ng-model='editUser.password' ng-maxlength="20" compare='{{editUser["confirm_password"]}}' class="form-control" name="newPassword" empty>
                                                <span ng-show='editUserForm.newPassword.$error.empty && editUserForm.newPassword.$dirty' class='error'>New password is required.</span>
                                                <span ng-show='((editUser.password.length < 8 && editUser.password.length > 0) || editUserForm.newPassword.$error.maxlength) && editUserForm.newPassword.$dirty' class='error'>Password has to be 8 to 20 characters long.</span>
                                            </div>
                                            <div class="form-group" ng-show="(editMode == 'false') && changePass">
                                                <label>Confirm Password</label><span class="required">*</span>
                                                <input type="password" ng-model='editUser["confirm_password"]' compare="{{editUser.password}}" class="form-control" name="confirmPassword">
                                                <span ng-show="editUserForm.confirmPassword.$error.compare" class='error'>Confirmed password is not the same.</span>
                                            </div>
                                            <!-- The contact is a user and admin wants to deactivate him/her -->
                                            <div class="form-group" ng-show="isUser && isAdmin">
                                                <div class="no-padding-left col-md-12">
                                                    <div class="no-padding-left col-md-6">
                                                        <label>Deactivate</label><span class="required">*</span>
                                                        <select name="deactivate" class="form-control" ng-model='editUser.deactivated'>
                                                            <option value=true>Yes</option>
                                                            <option value=false>No</option>
                                                        </select> 
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- The contact is a user and admin wants to promote him/her to be admin-->
                                            <div class="form-group" ng-show="isUser && isAdmin">
                                                <div class="no-padding-left col-md-12">
                                                    <div class="no-padding-left col-md-6">
                                                        <label>Upgrade To Admin?</label>
                                                        <select name="isAdmin" class="form-control" ng-model="editUser['is_admin']">
                                                            <option value=true>Yes</option>
                                                            <option value=false>No</option>
                                                        </select> 
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center ng-show="!isUser && isAdmin">
                                        <button type="submit" class="btn btn-link uppercase bold" ng-disabled='editUserForm.usernameNU.$invalid || existedUsername || editUserForm.passwordNU.$invalid || editUserForm.useremailNU.$invalid || (editEmail == "")' ng-click="editTheUser()">Create new user</button>
                                        <br>
                                        <span ng-bind="resultUser.message" ng-show="resultUser.status"></span>
                                    </center>
                                    <center ng-show="(editMode == 'false')">
                                        <button type="submit" class="btn btn-link uppercase bold" ng-disabled='editUserForm.oldPassword.$invalid || editUserForm.newPassword.$invalid || editUserForm.confirmPassword.$invalid' ng-click="editTheUser()">Change my password</button>
                                        <br>
                                        <span ng-bind="resultUser.message" ng-show="resultUser.status"></span>
                                    </center>
                                    <center ng-show="isUser && isAdmin">
                                        <button type="submit" class="btn btn-link uppercase bold" ng-click="editTheUser()">Save Changes</button>
                                        <br>
                                        <span ng-bind="resultUser.message" ng-show="resultUser.status"></span>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /user information -->
                        <form name="form.editPersonalForm">
                            <div class="box collapsed-box blue-box">
                                <div class="box-header with-border" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-info-circle"></i> &nbsp; Personal information</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Personal Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body">
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>Date created</label>
                                            <div class="input-group date">
                                                <div class="input-group-addon">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type='text' ng-model="editContact['date_created']" name="dateCreatedContact" class="form-control pull-right" readonly>
                                            </div>
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Created by</label>
                                            <input type='text' ng-model="editContact['created_by']" name="createdByContact" class="form-control" readonly> 
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Name</label><span class="required">*</span>
                                            <input type="text" ng-model="editContact['name']"  name="name" class="form-control" ng-maxlength='50' empty>
                                            <span ng-show='form.editPersonalForm.name.$error.empty && form.editPersonalForm.name.$dirty' class='error'>Name is required.</span>
                                            <span ng-show='form.editPersonalForm.name.$error.maxlength' class='error'>Input field name is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Alternative name</label>
                                            <input type="text" ng-model="editContact['alt_name']" name="altName" class="form-control" ng-maxlength='50'>
                                            <span ng-show='form.editPersonalForm.altName.$error.maxlength' class='error'>Input field alternative name is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12" ng-init="loadContactTypeList()">
                                        <div class="col-md-12">
                                            <label>Contact type</label><span class="required">*</span>
                                            <select class="form-control" ng-model="editContact['contact_type']">
                                                <option ng-repeat="contactType in contactTypeList">{{contactType.contactType}}</option>
                                            </select>     
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Explain if above is 'Other'</label>
                                            <textarea class="custom-remarks" ng-model="editContact['explain_if_other']" name="otherExpContact" contenteditable="true" spellcheck="true" ng-maxlength='200'></textarea>
                                            <span ng-show='form.editPersonalForm.otherExpContact.$error.maxlength' class='error'>Input field explanation is too long.</span>          
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Profession</label>
                                            <input type="text" ng-model="editContact['profession']" name="profession" class="form-control" ng-maxlength='200'>
                                            <span ng-show='form.editPersonalForm.profession.$error.maxlength' class='error'>Input field profession is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Job title</label>
                                            <input type="text" ng-model="editContact['job_title']" name="job" class="form-control" ng-maxlength='50'>
                                            <span ng-show='form.editPersonalForm.job.$error.maxlength' class='error'>Input field job title is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-4" ng-show="isAdmin || isTeamManager">
                                            <label>NRIC/FIN</label>
                                            <input type="text" ng-model="editContact['nric_fin']" name="nric" class="form-control" ng-pattern='nricRegex'>
                                            <span ng-show='form.editPersonalForm.nric.$invalid && form.editPersonalForm.nric.$touched' class='error'>Sample valid NRIC/FIN: S0927314N or G0293714T.</span>
                                        </div>    
                                        <div ng-class="{'col-md-offset-1' : (isAdmin || isTeamManager)}" class="col-md-2">
                                            <label>Gender</label>
                                            <select name="gender" class="form-control" ng-model="editContact['gender']">
                                                <option></option>
                                                <option value="M">Male</option>
                                                <option value="F">Female</option>
                                                <option value="O">Other</option>
                                            </select> 
                                        </div>  
                                        <div class="col-md-offset-1 col-md-4">
                                            <label>Nationality</label>
                                            <input type="text" ng-model="editContact.nationality" name="nationality" class="form-control" ng-pattern='nationalityRegex'>
                                            <span ng-show="form.editPersonalForm.nationality.$invalid && form.editPersonalForm.nationality.$touched" class='error'>Invalid nationality.</span>                                           
                                        </div>    
                                    </div>
                                    <div class="form-group col-md-12" style="margin-top: 15px">
                                        <div class="col-md-4">
                                            <label>Date of birth</label>
                                            <div class="input-group date">
                                                <div class="input-group-addon btn" ng-click="open()">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type="text" uib-datepicker-popup="{{format}}" ng-click="open()" ng-model="editContact['date_of_birth']" is-open="opened" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="dob" class="form-control pull-right white-background" readonly>
                                            </div>
                                        </div>
                                    </div>                      
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class="custom-remarks" ng-model="editContact.remarks" name="remarksContact" contenteditable="true" spellcheck="true" ng-maxlength='1000'></textarea>
                                            <span ng-show='form.editPersonalForm.remarksContact.$error.maxlength' class='error'>Input field remarks is too long.</span>  
                                        </div>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-link uppercase bold" ng-disabled='form.editPersonalForm.name.$invalid || form.editPersonalForm.altName.$invalid ||
                                                    form.editPersonalForm.otherExpContact.$invalid || form.editPersonalForm.profession.$invalid || form.editPersonalForm.job.$invalid || form.editPersonalForm.nric.$invalid
                                                    || form.editPersonalForm.nationality.$invalid || form.editPersonalForm.remarksContact.$invalid' ng-click="editTheContact()">Save Changes</button>
                                        <br>
                                        <span ng-bind="resultContact.message" ng-show="resultContact.status"></span>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /contact information -->
                        <form name="form.editPhoneForm">
                            <div class="box collapsed-box blue-box">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editPhone === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-phone-square"></i> &nbsp; Phone</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Phone Information">
                                            <i class="fa fa-chevron-down"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show='editPhone === ""'>
                                    <span>
                                        No Phone Information Available
                                    </span>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show='!(editPhone === "")'>
                                    <div class="box collapsed-box" ng-repeat="phone in editPhone">
                                        <div class="box-header" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b><span ng-bind="phone['country_code']"></span></b>
                                                <b><span>-</span></b>
                                                <b><span ng-bind="phone['phone_number']"></span></b>
                                                <b ng-if="phone['date_obsolete'] != 'Invalid Date'"><span>(Obsolete)</span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Phone Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="box-body with-border" style="display: none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="phone['date_created']" name="dateCreatedPhone" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="phone['created_by']" name="createdByPhone" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-2" ng-init="loadCountryCodes()">
                                                    <label>Country code</label><span class="required">*</span>
                                                    <input type="number" step="1" ng-model="phone['country_code']" class="form-control" name='countrycode' ng-change="updateCountryNames(phone['country_code'])">            
                                                    <span ng-hide="phone['country_code'] == null">{{newCountryName}}</span>
                                                    <span ng-show="phone['country_code'] == null  && form.editPhoneForm.countrycode.$dirty" class="error">Country code is required.</span>
                                                </div>
                                                <div class="col-md-offset-5 col-md-5">
                                                    <label>Phone number</label><span class="required">*</span>
                                                    <input type="text" ng-model="phone['phone_number']" class="form-control" name="phone" readonly>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class="custom-remarks" ng-model="phone['remarks']" name="remarksPhone" contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="phone['remarks'].length < 1000 && phone['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date obsolete</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openPhone($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input ng-model="phone['date_obsolete']" ng-click="openPhone($index)" uib-datepicker-popup="{{format}}" is-open="openedPhone[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" type="text" name="dateObsPhone" class="form-control pull-right white-background" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-disabled="phone['country_code'] == null || !(phone['remarks'].length < 1000 && phone['remarks'].length > -1)" ng-click="editThePhone($event, phone)">Save Changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteThePhone($event, phone)">Delete phone</button>
                                                    <br>
                                                    <span ng-bind="resultPhone.message" ng-show="resultPhone.status && (resultPhone['phone_number'] == phone['phone_number'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingPhone">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewPhone()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-2" ng-init="loadCountryCodes()">
                                            <label>Country code</label><span class="required">*</span>
                                            <input type="number" step="1" ng-model="newPhone['country_code']" class="form-control" name='additionalcountrycode' ng-change="updateCountryNames(newPhone['country_code'])" empty>            
                                            <span>{{newCountryName}}</span>
                                            <span ng-show="form.editPhoneForm.additionalcountrycode.$error.empty && form.editPhoneForm.additionalcountrycode.$dirty" class="error">Country code is required.</span>
                                        </div>
                                        <div class="col-md-offset-5 col-md-5">
                                            <label>Phone number</label><span class="required">*</span>
                                            <input type="text" ng-model="newPhone['phone_number']" class="form-control" name="additionalphone" ng-pattern="phoneRegex" ng-maxlength="20" empty>
                                            <span ng-show="form.editPhoneForm.additionalphone.$error.pattern && form.editPhoneForm.additionalphone.$touched" class='error'>Invalid phone number.</span>
                                            <span ng-show="form.editPhoneForm.additionalphone.$error.empty && form.editPhoneForm.additionalphone.$dirty" class='error'>Phone number is required.</span>
                                            <span ng-show="form.editPhoneForm.additionalphone.$error.maxlength" class='error'>Input field phone number is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class="custom-remarks" ng-model="newPhone['phone_remarks']" name="additionalremarksPhone" ng-maxlength="1000" contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editPhoneForm.additionalremarksPhone.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <center>
                                        <button type="submit" class="btn btn-primary uppercase" ng-disabled="form.editPhoneForm.additionalcountrycode.$invalid || form.editPhoneForm.additionalphone.$invalid || form.editPhoneForm.additionalremarksPhone.$invalid" ng-click="addPhone()">Done</button>
                                        <br>
                                        <span ng-bind="submitNewPhone.message" ng-show="submitNewPhone.submittedPhone"></span>
                                    </center>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-click="addNewPhone()" ng-hide="addingPhone">Add new phone</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /phone information -->
                        <form name="form.editEmailForm">
                            <div class="box collapsed-box blue-box">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editEmail === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-envelope"></i> &nbsp; Email</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Email Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editEmail == ''">
                                    <div>
                                        <span>
                                            No Email Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editEmail == '')">
                                    <div class="box collapsed-box" ng-repeat="email in editEmail">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b><span ng-bind="email.email"></span></b>
                                                <b ng-if="email['date_obsolete'] != 'Invalid Date'"><span>(Obsolete)</span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Email Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="box-body with-border" style="display:none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="email['date_created']" name="dateCreatedEmail" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="email['created_by']" name="createdByEmail" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Email</label><span class="required">*</span>
                                                    <input type="email" ng-model="email.email" name="email" class="form-control" readonly>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class="custom-remarks" name="remarksEmail" ng-model="email['remarks']" contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="email['remarks'].length < 1000 && email['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Verified email</label>
                                                    <input type="text" ng-model="email['is_verified']" class="form-control white-background" readonly>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date obsolete</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openEmail($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type="text" ng-model="email['date_obsolete']" ng-click="openEmail($index)" uib-datepicker-popup="{{format}}" is-open="openedEmail[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="dateObsEmail" class="form-control pull-right white-background" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-disabled="!(email['remarks'].length < 1000 && email['remarks'].length > -1)" ng-click="editTheEmail($event, email)">Save Changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteTheEmail($event, email)">Delete email</button>
                                                    <br>
                                                    <span ng-bind="resultEmail.message" ng-show="resultEmail.status && (resultEmail['email'] == email['email'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingEmail">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewEmail()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Email</label><span class="required">*</span>
                                            <input type="email" ng-model="newEmail.email" ng-pattern="emailRegex" ng-maxlength="50" name="additionalemail" class="form-control" empty>
                                            <span ng-show="form.editEmailForm.additionalemail.$error.pattern && form.editEmailForm.additionalemail.$touched" class='error'>Invalid email.</span>
                                            <span ng-show="form.editEmailForm.additionalemail.$error.empty && form.editEmailForm.additionalemail.$dirty" class='error'>Email is required.</span>
                                            <span ng-show="form.editEmailForm.additionalemail.$error.maxlength" class='error'>Input field email is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class="custom-remarks" name="additionalremarksEmail" ng-model="newEmail['email_remarks']" ng-maxlength="1000" contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editEmailForm.additionalremarksEmail.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase" ng-disabled="form.editEmailForm.additionalemail.$invalid || form.editEmailForm.additionalremarksEmail.$invalid" ng-click="addEmail()">Done</button>
                                            <br>
                                            <span ng-bind="submitNewEmail.message" ng-show="submitNewEmail.submittedEmail"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-click="addNewEmail()" ng-hide="addingEmail">Add new email</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /email information -->
                        <form name="form.editAddressForm">
                            <div class="box collapsed-box blue-box">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editAddress === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-map-marker"></i> &nbsp; Address</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Address Information">
                                            <i class="fa fa-chevron-down"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editAddress == ''">
                                    <div>
                                        <span>
                                            No Address Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editAddress == '')">
                                    <div class="box collapsed-box" ng-repeat="address in editAddress">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b><span>{{address['address']| limitTo: 15}}</span>... <span ng-bind="address['country']"></span></b>
                                                <b ng-if="address['date_obsolete'] != 'Invalid Date'"><span>(Obsolete)</span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Address Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="box-body with-border" style="display: none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="address['date_created']" name="dateCreatedAddress" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="address['created_by']" name="createdByAddress" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Address</label><span class="required">*</span>
                                                    <input type="text" ng-model="address.address" name='address' class="form-control" readonly>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5" ng-init="loadCountryNames()">
                                                    <label>Country</label>
                                                    <select class="form-control" ng-model="address.country" name="country">
                                                        <option ng-repeat="country in countryNames">{{country.name}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">    
                                                    <label>Zipcode</label>
                                                    <input type="text" ng-model="address.zipcode" class="form-control" name='zipcode'>
                                                    <span ng-hide="address.zipcode.length < 20 && address.zipcode.length > -1" class="error">Input field zipcode is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class="custom-remarks" name="remarksAddress" ng-model="address['remarks']" contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="address['remarks'].length < 1000 && address['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date obsolete</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openAddress($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type="text" ng-model="address['date_obsolete']" ng-click="openAddress($index)" uib-datepicker-popup="{{format}}" is-open="openedAddress[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="dateObsAddress" class="form-control pull-right white-background" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-disabled=" !(address['remarks'].length < 1000 && address['remarks'].length > -1)
                                                                || !(address.zipcode.length < 20 && address.zipcode.length > -1)" ng-click="editTheAddress($event, address)">Save changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteTheAddress($event, address)">Delete address</button>
                                                    <br>
                                                    <span ng-bind="resultAddress.message" ng-show="resultAddress.status && (resultAddress['address'] == address['address'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingAddress">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewAddress()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Address</label><span class="required">*</span>
                                            <input type="text" ng-model="newAddress.address" name='additionaladdress' ng-maxlength="1000" class="form-control" empty>
                                            <span ng-show="form.editAddressForm.additionaladdress.$error.empty && form.editAddressForm.additionaladdress.$dirty" class='error'>Address is required.</span>
                                            <span ng-show="form.editAddressForm.additionaladdress.$error.maxlength" class='error'>Input field address is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5" ng-init="loadCountryNames()">
                                            <label>Country</label>
                                            <select class="form-control" ng-model="newAddress.country" name="country">
                                                <option ng-repeat="country in countryNames">{{country.name}}</option>
                                            </select>
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">    
                                            <label>Zipcode</label>
                                            <input type="text" ng-model="newAddress.zipcode" ng-maxlength="20" class="form-control" name='additionalzipcode'>
                                            <span ng-show="form.editAddressForm.additionalzipcode.$error.maxlength" class="error">Input field zipcode is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class="custom-remarks" name="additionalremarksAddress" ng-model="newAddress['address_remarks']" ng-maxlength="1000" contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editAddressForm.additionalremarksAddress.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase" ng-disabled="form.editAddressForm.additionaladdress.$invalid || form.editAddressForm.additionalzipcode.$invalid || form.editAddressForm.additionalremarksAddress.$invalid" ng-click="addAddress()">Done</button>
                                            <br>
                                            <span ng-bind="submitNewAddress.message" ng-show="submitNewAddress.submittedAddress"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-click="addNewAddress()" ng-hide="addingAddress">Add new address</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /address information -->
                        <form name="form.editMembershipForm">
                            <div class="box collapsed-box blue-box" ng-show="isAdmin || isTeamManager">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editMembership === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-navicon"></i> &nbsp; Membership</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Membership Information">
                                            <i class="fa fa-chevron-down"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editMembership == ''">
                                    <div>
                                        <span>
                                            No Membership Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editMembership == '')">
                                    <div class="box collapsed-box" ng-repeat="membership in editMembership">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b><span ng-bind="membership['membership_class_name']"></span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Membership Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="box-body with-border" style='display: none'>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="membership['date_created']" name="dateCreatedMem" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="membership['created_by']" name="createdByMem" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5" ng-init="loadMembershipList()">
                                                    <label>Membership type</label><span class="required">*</span>
                                                    <select ng-model="membership['membership_class_name']" name="memType" class="form-control">
                                                        <option ng-repeat='membershipClass in membershipList'>{{membershipClass.membershipClass}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Subscription amount</label><span class="required">*</span>
                                                    <input type="text" ng-model="membership['subscription_amount']" set-decimal="membership['subscription_amount']" class="form-control" name="subsrcAmtMem">
                                                    <span ng-show="membership['subscription_amount'] == ''" class="error">Subscription amount is required.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Explain if above is 'Other'</label>
                                                    <textarea class="custom-remarks" name="otherExpMemClass" ng-model="membership['explain_if_other_class']" contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="membership['explain_if_other_class'].length < 200 && membership['explain_if_other_class'].length > -1" class="error">Input field explanation is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Membership start date</label><span class="required">*</span>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openMStart($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="membership['start_date']" ng-click="openMStart($index)" uib-datepicker-popup="{{format}}" is-open="openedMStart[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="startdateMem" class="form-control pull-right white-background" readonly empty>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Membership end date</label><span class="required">*</span>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openMEnd($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="membership['end_date']" ng-click="openMEnd($index)" uib-datepicker-popup="{{format}}" is-open="openedMEnd[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="enddateMem" class="form-control pull-right white-background" readonly empty>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5" ng-init="loadPaymentModeList()">
                                                    <label>Payment mode</label>
                                                    <select ng-model="membership['payment_mode_name']" name="payModMem" class="form-control">
                                                        <option ng-repeat="paymentMode in paymentModeList">{{paymentMode.paymentMode}}</option>
                                                    </select>  
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Explain if above is 'Other'</label>
                                                    <textarea class="custom-remarks" ng-model="membership['explain_if_other_payment']" name="otherExpPayModMem" contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="membership['explain_if_other_payment'].length < 200 && membership['explain_if_other_payment'].length > -1" class="error">Input field explanation is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>External transaction reference</label>
                                                    <input type='text' ng-model="membership['ext_transaction_ref']" class='form-control' name="transRefMem">
                                                    <span ng-hide="membership['ext_transaction_ref'].length < 50 && membership['ext_transaction_ref'].length > -1" class="error">Input field reference is too long.</span>
                                                </div>    
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Receipt number</label>
                                                    <input type='text' ng-model="membership['receipt_number']" ng-maxlength="50" class='form-control' name="recNoMem">
                                                    <span ng-hide="membership['receipt_number'].length < 50 && membership['receipt_number'].length > -1" class="error">Input field receipt number is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5" ng-init="loadSendReceiptModeList()">
                                                    <label>Mode of sending receipt</label>
                                                    <select class='form-control' ng-model="membership['receipt_mode_name']" name="modSendRecMem">
                                                        <option ng-repeat="receiptMode in sendReceiptModList">{{receiptMode.modeOfSendingReceipt}}</option>
                                                    </select>
                                                </div>    
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Date of receipt</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openMembership($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type="text" ng-model="membership['receipt_date']" ng-click="openMembership($index)" uib-datepicker-popup="{{format}}" is-open="openedMembership[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" class="form-control pull-right white-background" name="dateRecMem" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Explain if above is 'Other'</label>
                                                    <textarea class="custom-remarks" ng-model="membership['explain_if_other_receipt']" name="otherExpRecModMem" contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="membership['explain_if_other_receipt'].length < 200 && membership['explain_if_other_receipt'].length > -1" class="error">Input field explanation is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class="custom-remarks" ng-model="membership['remarks']" ng-maxlength="1000" name="remarksMem" contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="membership['remarks'].length < 1000 && membership['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" 
                                                            ng-disabled="form.editMembershipForm.memType.$invalid || membership['subscription_amount'] == '' || membership['start_date'] == null || membership['end_date'] == null ||
                                                                        !(membership['explain_if_other_class'].length < 200 && membership['explain_if_other_class'].length > -1) || !(membership['explain_if_other_payment'].length < 200 && membership['explain_if_other_payment'].length > -1)
                                                                        || !(membership['ext_transaction_ref'].length < 50 && membership['ext_transaction_ref'].length > -1) || !(membership['receipt_number'].length < 50 && membership['receipt_number'].length > -1)
                                                                        || !(membership['explain_if_other_receipt'].length < 200 && membership['explain_if_other_receipt'].length > -1) || !(membership['remarks'].length < 1000 && membership['remarks'].length > -1)"
                                                            ng-click="editTheMembership($event, membership)">Save Changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteTheMembership($event, membership)">Delete membership</button>
                                                    <br>
                                                    <span ng-bind="resultMembership.message" ng-show="resultMembership.status && (resultMembership['membership_id'] == membership['membership_id'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingMembership">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewMembership()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5" ng-init="loadMembershipList()">
                                            <label>Membership type</label><span class="required">*</span>
                                            <select ng-model="newMembership['membership_class']" name="additionalmemType" class="form-control" empty>
                                                <option ng-repeat='membershipClass in membershipList'>{{membershipClass.membershipClass}}</option>
                                            </select>
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Subscription amount</label><span class="required">*</span>
                                            <input type="number" ng-model="newMembership['subscription_amount']" set-decimal="newMembership['subscription_amount']" class="form-control" name="additionalsubsrcAmtMem" empty>
                                            <span ng-show="form.editMembershipForm.additionalsubsrcAmtMem.$error.empty && form.editMembershipForm.additionalsubsrcAmtMem.$touched" class="error">Subscription amount is required.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Explain if above is 'Other'</label>
                                            <textarea class="custom-remarks" name="additionalotherExpMemClass" ng-model="newMembership['explain_if_other_class']" ng-maxlength="200" contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editMembershipForm.additionalotherExpMemClass.$error.maxlength" class="error">Input field explanation is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>Membership start date</label><span class="required">*</span>
                                            <div class="input-group date">
                                                <div class="input-group-addon btn" ng-click="openNewMStart()">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type='text' ng-model="newMembership['start_membership']" ng-click="openNewMStart()" uib-datepicker-popup="{{format}}" is-open="openedNewMStart" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="additionalstartdateMem" class="form-control pull-right white-background" readonly empty>
                                            </div>
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Membership end date</label><span class="required">*</span>
                                            <div class="input-group date">
                                                <div class="input-group-addon btn" ng-click="openNewMEnd()">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type='text' ng-model="newMembership['end_membership']" ng-click="openNewMEnd()" uib-datepicker-popup="{{format}}" is-open="openedNewMEnd" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="additionalenddateMem" class="form-control pull-right white-background" readonly empty>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5" ng-init="loadPaymentModeList()">
                                            <label>Payment mode</label>
                                            <select ng-model="newMembership['payment_mode']" name="additionalpayModMem" class="form-control">
                                                <option ng-repeat="paymentMode in paymentModeList">{{paymentMode.paymentMode}}</option>
                                            </select>  
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Explain if above is 'Other'</label>
                                            <textarea class="custom-remarks" ng-model="newMembership['explain_if_other_payment']" ng-maxlength="200" name="additionalotherExpPayModMem" contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editMembershipForm.additionalotherExpPayModMem.$error.maxlength" class="error">Input field explanation is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>External transaction reference</label>
                                            <input type='text' ng-model="newMembership['ext_transaction_ref']" ng-maxlength="50" class='form-control' name="additionaltransRefMem">
                                            <span ng-show="form.editMembershipForm.additionaltransRefMem.$error.maxlength" class="error">Input field reference is too long.</span>
                                        </div>    
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Receipt number</label>
                                            <input type='text' ng-model="newMembership['receipt_number']" ng-maxlength="50" class='form-control' name="additionalrecNoMem">
                                            <span ng-show="form.editMembershipForm.additionalrecNoMem.$error.maxlength" class="error">Input field receipt number is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5" ng-init="loadSendReceiptModeList()">
                                            <label>Mode of sending receipt</label>
                                            <select class='form-control' ng-model="newMembership['receipt_mode']" name="additionalmodSendRecMem">
                                                <option ng-repeat="receiptMode in sendReceiptModList">{{receiptMode.modeOfSendingReceipt}}</option>
                                            </select>
                                        </div>    
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Date of receipt</label>
                                            <div class="input-group date">
                                                <div class="input-group-addon btn" ng-click="openNewMReceipt()">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type="text" ng-model="newMembership['receipt_date']" ng-click="openNewMReceipt()" uib-datepicker-popup="{{format}}" is-open="openedNewMReceipt" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" class="form-control pull-right white-background" name="additionaldateRecMem" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Explain if above is 'Other'</label>
                                            <textarea class="custom-remarks" ng-model="newMembership['explain_if_other_receipt']" ng-maxlength="200" name="additionalotherExpRecModMem" contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editMembershipForm.additionalotherExpRecModMem.$error.maxlength" class="error">Input field explanation is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class="custom-remarks" ng-model="newMembership['remarks']" ng-maxlength="1000" name="additionalremarksMem" contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editMembershipForm.additionalremarksMem.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase bold" ng-disabled="form.editMembershipForm.additionalmemType.$invalid || form.editMembershipForm.additionalsubsrcAmtMem.$invalid
                                                    || form.editMembershipForm.additionalotherExpMemClass.$invalid || form.editMembershipForm.additionalstartdateMem.$invalid || form.editMembershipForm.additionalenddateMem.$invalid
                                                    || form.editMembershipForm.additionalotherExpPayModMem.$invalid || form.editMembershipForm.additionaltransRefMem.$invalid || form.editMembershipForm.additionalrecNoMem.$invalid
                                                    || form.editMembershipForm.additionalotherExpRecModMem.$invalid || form.editMembershipForm.additionalremarksMem.$invalid" 
                                                    ng-click="addMembership()">Done</button>
                                            <br>
                                            <span ng-bind="submitNewMembership.message" ng-show="submitNewMembership.submittedMembership"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-click="addNewMembership()" ng-hide="addingMembership">Add new membership</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /membership information -->
                        <form name="form.editOfficeForm">
                            <div class="box collapsed-box blue-box" ng-show="isAdmin || isTeamManager">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editOfficeHeld === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-building"></i> &nbsp; Office-held</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Office Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editOfficeHeld == ''">
                                    <div>
                                        <span>
                                            No Office Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editOfficeHeld == '')">
                                    <div class="box collapsed-box" ng-repeat="officeHeld in editOfficeHeld">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b><span ng-bind="officeHeld['office_held']"></span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Office Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="box-body with-border" style="display: none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="officeHeld['date_created']" name="dateCreatedOff" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="officeHeld['created_by']" name="createdByOff" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Office held</label><span class="required">*</span>
                                                    <input type='text' class='form-control' ng-model="officeHeld['office_held']" name="off" readonly>
                                                </div>
                                            </div> 
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Start office</label><span class="required">*</span>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="officeHeld['start_office']" uib-datepicker-popup="{{format}}"  datepicker-options="dateOptions" alt-input-formats="altInputFormats" name="startdateOff" class="form-control pull-right" readonly empty>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>End office</label><span class="required">*</span>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="officeHeld['end_office']" uib-datepicker-popup="{{format}}" datepicker-options="dateOptions" alt-input-formats="altInputFormats" name="enddateOff" class="form-control pull-right" readonly empty>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class="custom-remarks" name='remarksOff' ng-model="officeHeld['remarks']" ng-maxlength="1000" contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="officeHeld['remarks'].length < 1000 && officeHeld['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-disabled="officeHeld['start_office'] == null || officeHeld['end_office'] == null || !(officeHeld['remarks'].length < 1000 && officeHeld['remarks'].length > -1)" ng-click="editTheOffice($event, officeHeld)">Save Changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteTheOffice($event, officeHeld)">Delete office</button>
                                                    <br>
                                                    <span ng-bind="resultOffice.message" ng-show="resultOffice.status && (resultOffice['office_held'] == officeHeld['office_held'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingOffice">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewOffice()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5" ng-init="loadOfficeHoldList()">
                                            <label>Office held</label><span class="required">*</span>
                                            <select class='form-control' ng-model="newOffice['office_held_name']" name="additionaloff" empty> 
                                                <option ng-repeat="officeHold in officeList">{{officeHold.office}}</option>
                                            </select>
                                        </div>
                                    </div> 
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>Start office</label><span class="required">*</span>
                                            <div class="input-group date">
                                                <div class="input-group-addon btn" ng-click="openNewOStart()">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type='text' ng-model="newOffice['start_office']" ng-click="openNewOStart()" uib-datepicker-popup="{{format}}" is-open="openedNewOStart" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="additionalstartdateOff" class="form-control pull-right white-background" readonly empty>
                                            </div>
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>End office</label><span class="required">*</span>
                                            <div class="input-group date">
                                                <div class="input-group-addon btn" ng-click="openNewOEnd()">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type='text' ng-model="newOffice['end_office']" ng-click="openNewOEnd()" uib-datepicker-popup="{{format}}" is-open="openedNewOEnd" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="additionalenddateOff" class="form-control pull-right white-background" readonly empty>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class="custom-remarks" name='additionalremarksOff' ng-model="newOffice['remarks']" ng-maxlength="1000" contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editOfficeForm.additionalremarksOff.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase" ng-disabled="form.editOfficeForm.additionaloff.$invalid || form.editOfficeForm.additionalstartdateOff.$invalid || form.editOfficeForm.additionalenddateOff.$invalid || form.editOfficeForm.additionalremarksOff.$invalid" ng-click="addOffice()">Done</button>
                                            <br>
                                            <span ng-bind="submitNewOffice.message" ng-show="submitNewOffice.submittedOffice"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-click="addNewOffice()" ng-hide="addingOffice">Add new office</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /office-held information -->
                        <form name="form.editDonationForm">
                            <div class="box collapsed-box blue-box" ng-show="isAdmin || isTeamManager">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editDonation === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-money"></i> &nbsp; Donation</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Donation Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editDonation == ''">
                                    <div>
                                        <span>
                                            No Donation Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editDonation == '')">
                                    <div class="box collapsed-box" ng-repeat="donation in editDonation">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b>Donation received on <span ng-bind="donation['date_shown']"></span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Donation Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="box-body with-border" style="display: none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="donation['date_created']" name="dateCreatedDon" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="donation['created_by']" name="createdByDon" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date received</label><span class="required">*</span>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openDonationReceived($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type="text" ng-model="donation['date_received']" ng-click="openDonationReceived($index)" uib-datepicker-popup="{{format}}" is-open="openedDonationReceived[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" class="form-control pull-right white-background" name='dateRecvDon'>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Donation amount</label><span class="required">*</span>
                                                    <input type="number" class="form-control" ng-model="donation['donation_amount']" set-decimal="donation['donation_amount']" name='donAmt'>
                                                    <span ng-show="donation['donation_amount'] == ''" class="error">Donation amount is required.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5" ng-init="loadPaymentModeList()">
                                                    <label>Payment mode</label><span class="required">*</span>
                                                    <select class="form-control" ng-model="donation['payment_mode']" name='payModDon' empty>
                                                        <option ng-repeat="paymentMode in paymentModeList">{{paymentMode.paymentMode}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Explain if above is 'Other'</label>
                                                    <textarea class="custom-remarks" ng-model="donation['explain_if_other_payment']" ng-maxlength="200" name='otherExpPayModDon' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="donation['explain_if_other_payment'].length < 200 && donation['explain_if_other_payment'].length > -1" class="error">Input field explanation is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>External transaction reference</label>
                                                    <input type='text' ng-model="donation['ext_transaction_ref']" ng-maxlength="50" name='tranRefDon' class='form-control' contenteditable="true" spellcheck="true">
                                                    <span ng-hide="donation['ext_transaction_ref'].length < 50 && donation['ext_transaction_ref'].length > -1" class="error">Input field reference is too long.</span>
                                                </div>    
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Receipt number</label>
                                                    <input type='text' ng-model="donation['receipt_number']" ng-maxlength="50" name='recNoDon' class='form-control' contenteditable="true" spellcheck="true">
                                                    <span ng-hide="donation['receipt_number'].length < 50 && donation['receipt_number'].length > -1" class="error">Input field receipt number is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5" ng-init="loadSendReceiptModeList()">
                                                    <label>Mode of sending receipt</label>
                                                    <select class='form-control' ng-model="donation['receipt_mode_name']" name='modSendRecDon'>
                                                        <option ng-repeat="receiptMode in sendReceiptModList">{{receiptMode.modeOfSendingReceipt}}</option>
                                                    </select>
                                                </div>    
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Date of receipt</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openDonationReceipt($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type="text" class="form-control pull-right white-background" ng-model="donation['receipt_date']" ng-click="openDonationReceipt($index)" uib-datepicker-popup="{{format}}" is-open="openedDonationReceipt[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name='dateRecDon' readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Explain if above is 'Other'</label>
                                                    <textarea class="custom-remarks" ng-model="donation['explain_if_other_receipt']" ng-maxlength="200" name='otherExpRecModDon' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="donation['explain_if_other_receipt'].length < 200 && donation['explain_if_other_receipt'].length > -1" class="error">Input field explanation is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Donor's instructions</label>
                                                    <textarea class="custom-remarks" ng-model="donation['donor_instructions']" ng-maxlength="1000" name='donInstr' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="donation['donor_instructions'].length < 1000 && donation['donor_instructions'].length > -1" class="error">Input field instructions is too long.</span>
                                                </div>
                                            </div>
                                            <div class='form-group col-md-12'>
                                                <div class='col-md-7'>
                                                    <label>Allocation 1</label>
                                                    <textarea class='custom-remarks' ng-model="donation['allocation1']" ng-maxlength="200" name='allo1' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="donation['allocation1'].length < 200 && donation['allocation1'].length > -1" class="error">Input field allocation 1 is too long.</span>
                                                </div>
                                                <div class="col-md-offset-1 col-md-4">
                                                    <label>Subamount 1</label>
                                                    <input ng-model="donation['subtotal1']" set-decimal="donation['subtotal1']" name='subAmtDon1' type="number" class="form-control">
                                                </div>
                                            </div>
                                            <div class='form-group col-md-12'>
                                                <div class='col-md-7'>
                                                    <label>Allocation 2</label>
                                                    <textarea class='custom-remarks' ng-model="donation['allocation2']" ng-maxlength="200" name='allo2' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="donation['allocation2'].length < 200 && donation['allocation2'].length > -1" class="error">Input field allocation 2 is too long.</span>
                                                </div>
                                                <div class="col-md-offset-1 col-md-4">
                                                    <label>Subamount 2</label>
                                                    <input ng-model="donation['subtotal2']" set-decimal="donation['subtotal2']" name='subAmtDon2' type="number" class="form-control">
                                                </div>
                                            </div>
                                            <div class='form-group col-md-12'>
                                                <div class='col-md-7'>
                                                    <label>Allocation 3</label>
                                                    <textarea class='custom-remarks' ng-model="donation['allocation3']" ng-maxlength="200" name='allo3' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="donation['allocation3'].length < 200 && donation['allocation3'].length > -1" class="error">Input field allocation 3 is too long.</span>
                                                </div>
                                                <div class="col-md-offset-1 col-md-4">
                                                    <label>Subamount 3</label>
                                                    <input ng-model="donation['subtotal3']" set-decimal="donation['subtotal3']" name='subAmtDon3' type="number" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Associated occasion</label>
                                                    <textarea class='custom-remarks' ng-model="donation['associated_occasion']" ng-maxlength="500" name='assoOccasDon' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="donation['associated_occasion'].length < 500 && donation['associated_occasion'].length > -1" class="error">Input field occasion is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class='custom-remarks' ng-model="donation['remarks']" ng-maxlength="1000" name='remarksDon' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="donation['remarks'].length < 1000 && donation['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-disabled="donation['date_received'] == null || donation['donation_amount'] == ''
                                                            || !(donation['explain_if_other_payment'].length < 200 && donation['explain_if_other_payment'].length > -1) || !(donation['ext_transaction_ref'].length < 50 && donation['ext_transaction_ref'].length > -1)
                                                            || !(donation['receipt_number'].length < 50 && donation['receipt_number'].length > -1) || !(donation['explain_if_other_receipt'].length < 200 && donation['explain_if_other_receipt'].length > -1)
                                                            || !(donation['donor_instructions'].length < 1000 && donation['donor_instructions'].length > -1) || !(donation['allocation1'].length < 200 && donation['allocation1'].length > -1)
                                                            || !(donation['allocation2'].length < 200 && donation['allocation2'].length > -1) || !(donation['allocation3'].length < 200 && donation['allocation3'].length > -1)
                                                            || !(donation['associated_occasion'].length < 500 && donation['associated_occasion'].length > -1) || !(donation['remarks'].length < 1000 && donation['remarks'].length > -1)"
                                                            ng-click="editTheDonation($event, donation)">Save Changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteTheDonation($event, donation)">Delete donation</button> 
                                                    <br>
                                                    <span ng-bind="resultDonation.message" ng-show="resultDonation.status && (resultDonation['donation_id'] == donation['donation_id'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingDonation">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewDonation()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>Date received</label><span class="required">*</span>
                                            <div class="input-group date">
                                                <div class="input-group-addon btn" ng-click="openNewDReceived()">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type="text" ng-model="newDonation['date_received']" ng-click="openNewDReceived()" uib-datepicker-popup="{{format}}" is-open="openedNewDReceived" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" class="form-control pull-right" name='additionaldateRecvDon' empty>
                                            </div>
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Donation amount</label><span class="required">*</span>
                                            <input type="number" class="form-control" ng-model="newDonation['donation_amount']" set-decimal="newDonation['donation_amount']" name='additionaldonAmt' empty>
                                            <span ng-show="form.editDonationForm.additionaldonAmt.$error.empty && form.editDonationForm.additionaldonAmt.$touched" class="error">Donation amount is required.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5" ng-init="loadPaymentModeList()">
                                            <label>Payment mode</label><span class="required">*</span>
                                            <select class="form-control" ng-model="newDonation['payment_mode']" name='additionalpayModDon' empty>
                                                <option ng-repeat="paymentMode in paymentModeList">{{paymentMode.paymentMode}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Explain if above is 'Other'</label>
                                            <textarea class="custom-remarks" ng-model="newDonation['explain_if_other_payment']" ng-maxlength="200" name='additionalotherExpPayModDon' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editDonationForm.additionalotherExpPayModDon.$error.maxlength" class="error">Input field explanation is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>External transaction reference</label>
                                            <input type='text' ng-model="newDonation['ext_transaction_ref']" ng-maxlength="50" name='additionaltranRefDon' class='form-control' contenteditable="true" spellcheck="true">
                                            <span ng-show="form.editDonationForm.additionaltranRefDon.$error.maxlength" class="error">Input field reference is too long.</span>
                                        </div>    
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Receipt number</label>
                                            <input type='text' ng-model="newDonation['receipt_number']" ng-maxlength="50" name='additionalrecNoDon' class='form-control' contenteditable="true" spellcheck="true">
                                            <span ng-show="form.editDonationForm.additionalrecNoDon.$error.maxlength" class="error">Input field receipt number is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5" ng-init="loadSendReceiptModeList()">
                                            <label>Mode of sending receipt</label>
                                            <select class='form-control' ng-model="newDonation['receipt_mode']" name='additionalmodSendRecDon'>
                                                <option ng-repeat="receiptMode in sendReceiptModList">{{receiptMode.modeOfSendingReceipt}}</option>
                                            </select>
                                        </div>    
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Date of receipt</label>
                                            <div class="input-group date">
                                                <div class="input-group-addon btn" ng-click="openNewDReceipt()">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type="text" class="form-control pull-right white-background" ng-model="newDonation['receipt_date']" ng-click="openNewDReceipt()" uib-datepicker-popup="{{format}}" is-open="openedNewDReceipt" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name='additionaldateRecDon' readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Explain if above is 'Other'</label>
                                            <textarea class="custom-remarks" ng-model="newDonation['explain_if_other_receipt']" ng-maxlength="200" name='additionalotherExpRecModDon' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editDonationForm.additionalotherExpRecModDon.$error.maxlength" class="error">Input field explanation is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Donor's instructions</label>
                                            <textarea class="custom-remarks" ng-model="newDonation['donor_instruction']" ng-maxlength="1000" name='additionaldonInstr' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editDonationForm.additionaldonInstr.$error.maxlength" class="error">Input field instructions is too long.</span>
                                        </div>
                                    </div>
                                    <div class='form-group col-md-12'>
                                        <div class='col-md-7'>
                                            <label>Allocation 1</label>
                                            <textarea class='custom-remarks' ng-model="newDonation['allocation1']" ng-maxlength="200" name='additionalallo1' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editDonationForm.additionalallo1.$error.maxlength" class="error">Input field allocation 1 is too long.</span>
                                        </div>
                                        <div class="col-md-offset-1 col-md-4">
                                            <label>Subamount 1</label>
                                            <input ng-model="newDonation['subamount1']" set-decimal="newDonation['subtotal1']" name='additionalsubAmtDon1' type="number" class="form-control">
                                        </div>
                                    </div>
                                    <div class='form-group col-md-12'>
                                        <div class='col-md-7'>
                                            <label>Allocation 2</label>
                                            <textarea class='custom-remarks' ng-model="newDonation['allocation2']" ng-maxlength="200" name='additionalallo2' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editDonationForm.additionalallo2.$error.maxlength" class="error">Input field allocation 2 is too long.</span>
                                        </div>
                                        <div class="col-md-offset-1 col-md-4">
                                            <label>Subamount 2</label>
                                            <input ng-model="newDonation['subamount2']" set-decimal="newDonation['subamount2']" name='additionalsubAmtDon2' type="number" step='any' class="form-control">
                                        </div>
                                    </div>
                                    <div class='form-group col-md-12'>
                                        <div class='col-md-7'>
                                            <label>Allocation 3</label>
                                            <textarea class='custom-remarks' ng-model="newDonation['allocation3']" ng-maxlength="200" name='additionalallo3' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editDonationForm.additionalallo3.$error.maxlength" class="error">Input field allocation 3 is too long.</span>
                                        </div>
                                        <div class="col-md-offset-1 col-md-4">
                                            <label>Subamount 3</label>
                                            <input ng-model="newDonation['subamount3']" set-decimal="newDonation['subamount3']" name='additionalsubAmtDon3' type="number" class="form-control">
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Associated occasion</label>
                                            <textarea class='custom-remarks' ng-model="newDonation['associated_occasion']" ng-maxlength="500" name='additionalassoOccasDon' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editDonationForm.additionalassoOccasDon.$error.maxlength" class="error">Input field occasion is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class='custom-remarks' ng-model="newDonation['remarks']" ng-maxlength="1000" name='additionalremarksDon' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editDonationForm.additionalremarksDon.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase" ng-disabled="form.editDonationForm.additionaldateRecvDon.$invalid || form.editDonationForm.additionaldonAmt.$invalid || form.editDonationForm.additionalpayModDon.$invalid
                                                    || form.editDonationForm.additionalotherExpPayModDon.$invalid || form.editDonationForm.additionaltranRefDon.$invalid || form.editDonationForm.additionalrecNoDon.$invalid || form.editDonationForm.additionalotherExpRecModDon.$invalid
                                                    || form.editDonationForm.additionaldonInstr.$invalid || form.editDonationForm.additionalallo1.$invalid || form.editDonationForm.additionalallo2.$invalid || form.editDonationForm.additionalallo3.$invalid 
                                                    || form.editDonationForm.additionalassoOccasDon.$invalid || form.editDonationForm.additionalremarksDon.$invalid"
                                                    ng-click="addDonation()">Done</button> 
                                            <br>
                                            <span ng-bind="submitNewDonation.message" ng-show="submitNewDonation.submittedDonation"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-click="addNewDonation()" ng-hide="addingDonation">Add new donation</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /donation information -->
                        <form name="form.editTeamForm">
                            <div class="box collapsed-box blue-box">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editTeam === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-group"></i> &nbsp; Team</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Team Join Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editTeam == ''">
                                    <div>
                                        <span>
                                            No Team Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editTeam == '') && editMode == 'true'">
                                    <div class="box collapsed-box" ng-repeat="team in editTeam">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b>Team <span ng-bind="team['team_name']"></span></b>
                                                <b ng-if="team['date_obsolete'] != 'Invalid Date'"><span>(Obsolete)</span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Team Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>  
                                        <div class="box-body with-border" style="display: none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="team['date_created']" name="dateCreatedTeam" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="team['created_by']" name="createdByTeam" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Team</label><span class="required">*</span>
                                                    <input type='text' class="form-control" ng-model="team['team_name']" name='team' readonly>
                                                </div>
                                            </div> 
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Explain if above is 'Other'</label>
                                                    <textarea class='custom-remarks' ng-model="team['explain_if_others']" ng-maxlength="200" name='otherExpTeam' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="team['explain_if_others'].length < 200 && team['explain_if_others'].length > -1" class="error">Input field explanation is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Subteam</label>
                                                    <input ng-model="team['sub_team']" ng-maxlength="50" name='subteam' type="text" class="form-control">
                                                    <span ng-hide="team['sub_team'].length < 50 && team['sub_team'].length > -1" class="error">Input field sub-team is too long.</span>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5" ng-init="loadPermissionLevelList()">
                                                    <label>Permission</label><span class="required">*</span>
                                                    <select class="form-control" ng-model="team['permission']" name='permission' empty>
                                                        <option ng-repeat="permission in permissionLevelList">{{permission.permissionLevel}}</option>
                                                    </select>
                                                </div>
                                            </div> 
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class='custom-remarks' ng-model="team['remarks']" ng-maxlength="1000" name='remarksTeam' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="team['remarks'].length < 1000 && team['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date obsolete</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openTeamJoin($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input ng-model="team['date_obsolete']" ng-click="openTeamJoin($index)" uib-datepicker-popup="{{format}}" is-open="openedTeamJoin[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name='dateObsTeam' type='text' class="form-control pull-right white-background" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-disabled="team['permission'] == '' || !(team['remarks'].length < 1000 && team['remarks'].length > -1) || !(team['sub_team'].length < 50 && team['sub_team'].length > -1) || !(team['explain_if_others'].length < 200 && team['explain_if_others'].length > -1)" 
                                                            ng-click="editTheTeam($event, team)">Save Changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteTheTeam($event, team)">Delete team</button>
                                                    <br>
                                                    <span ng-bind="resultTeam.message" ng-show="resultTeam.status && (resultTeam['team_name'] == team['team_name'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editTeam == '') && editMode == 'false'">
                                    <div class="box collapsed-box" ng-repeat="team in editTeam">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b>Team <span ng-bind="team['team_name']"></span></b>
                                                <b ng-if="team['date_obsolete'] != 'Invalid Date'"><span>(Obsolete)</span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Team Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>  
                                        <div class="box-body with-border" style="display: none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="team['date_created']" name="dateCreatedTeam" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="team['created_by']" name="createdByTeam" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Team</label><span class="required">*</span>
                                                    <input type='text' class="form-control" ng-model="team['team_name']" name='team' readonly>
                                                </div>
                                            </div> 
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Explain if above is 'Other'</label>
                                                    <textarea class='custom-remarks' ng-model="team['explain_if_others']" ng-maxlength="200" name='otherExpTeam' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="team['explain_if_others'].length < 200 && team['explain_if_others'].length > -1" class="error">Input field explanation is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Subteam</label>
                                                    <input ng-model="team['sub_team']" ng-maxlength="50" name='subteam' type="text" class="form-control">
                                                    <span ng-hide="team['sub_team'].length < 50 && team['sub_team'].length > -1" class="error">Input field sub-team is too long.</span>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5" ng-init="loadPermissionLevelList()">
                                                    <label>Permission</label><span class="required">*</span>
                                                    <input ng-model="team['permission']" name='permission' type="text" class="form-control white-background" readonly>
                                                </div>
                                            </div> 
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class='custom-remarks' ng-model="team['remarks']" ng-maxlength="1000" name='remarksTeam' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="team['remarks'].length < 1000 && team['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <!--<div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date obsolete</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input ng-model="team['date_obsolete']"name='dateObsTeam' type='text' class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                            </div>-->
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-disabled="!(team['remarks'].length < 1000 && team['remarks'].length > -1) || !(team['sub_team'].length < 50 && team['sub_team'].length > -1) || !(team['explain_if_others'].length < 200 && team['explain_if_others'].length > -1)" 
                                                            ng-click="editTheTeam($event, team)">Save Changes</button>
                                                    <br>
                                                    <span ng-bind="resultTeam.message" ng-show="resultTeam.status && (resultTeam['team_name'] == team['team_name'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingTeam && editMode == 'true'">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewTeam()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5" ng-init="loadTeamAffiliationList()">
                                            <label>Team</label><span class="required">*</span>
                                            <select class="form-control" ng-model="newTeam['team']" name='additionalteam' empty>
                                                <option ng-repeat="teamAffiliation in teamAffiliationList">{{teamAffiliation.teamAffiliation}}</option>
                                            </select>
                                        </div>
                                    </div> 
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Explain if above is 'Other'</label>
                                            <textarea class='custom-remarks' ng-model="newTeam['explain_if_others']" ng-maxlength="200" name='additionalotherExpTeam' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editTeamForm.additionalotherExpTeam.$error.maxlength" class="error">Input field explanation is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>Subteam</label>
                                            <input ng-model="newTeam['subteam']" ng-maxlength="50" name='additionalsubteam' type="text" class="form-control">
                                            <span ng-show="form.editTeamForm.additionalsubteam.$error.maxlength" class="error">Input field sub-team is too long.</span>
                                        </div>
                                        <div class="col-md-offset-2 col-md-5" ng-init="loadPermissionLevelList()">
                                            <label>Permission</label><span class="required">*</span>
                                            <select class="form-control" ng-model="newTeam['permission_level']" name='additionalpermission' empty>
                                                <option ng-repeat="permission in permissionLevelList">{{permission.permissionLevel}}</option>
                                            </select>
                                        </div>
                                    </div> 
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class='custom-remarks' ng-model="newTeam['remarks']" ng-maxlength="1000" name='additionalremarksTeam' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editTeamForm.additionalremarksTeam.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase" ng-disabled="form.editTeamForm.additionalteam.$invalid || form.editTeamForm.additionalotherExpTeam.$invalid
                                                    || form.editTeamForm.additionalsubteam.$invalid || form.editTeamForm.additionalpermission.$invalid || form.editTeamForm.additionalremarksTeam.$invalid" 
                                                    ng-click="addTeam()">Done</button>
                                            <br>
                                            <span ng-bind="submitNewTeam.message" ng-show="submitNewTeam.submittedTeam"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingTeam && editMode == 'false'">
                                     <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewTeam()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>First choice</label><span class="required">*</span>
                                        <select class="form-control" ng-model="teamPref.team1" name="teamPref1" empty>
                                            <option ng-repeat="teamAffiliation in teamAffiliationList0">{{teamAffiliation.teamAffiliation}}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Second choice</label>
                                        <select class="form-control" ng-model="teamPref.team2" name="teamPref2">
                                            <option ng-repeat="teamAffiliation in teamAffiliationList1">{{teamAffiliation.teamAffiliation}}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Third choice</label>
                                        <select class="form-control" ng-model="teamPref.team3" name="teamPref3">
                                            <option ng-repeat="teamAffiliation in teamAffiliationList2">{{teamAffiliation.teamAffiliation}}</option>
                                        </select>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase" ng-disabled="form.editTeamForm.teamPref1.$invalid" ng-click="addTeam()">Done</button>
                                            <br>
                                            <span ng-bind="submitNewTeam.message" ng-show="submitNewTeam.submittedTeam"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-show="editMode == 'true' && !addingTeam" ng-click="addNewTeam()">Add new team</button>
                                        <button type="submit" class="btn btn-warning uppercase" ng-show="editMode == 'false' && !addingTeam" ng-click="addNewTeam()">Select new team</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /team information -->
                        <form name="form.editTrainingForm">
                            <div class="box collapsed-box blue-box" ng-hide="true">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editTraining === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-wrench"></i> &nbsp; Training</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Training Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editTraining == ''">
                                    <div>
                                        <span>
                                            No Training Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editTraining == '')">
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>Date created</label>
                                            <div class="input-group date">
                                                <div class="input-group-addon">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type='text' name="dateCreatedTrain" class="form-control pull-right" readonly>
                                            </div>
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Created by</label>
                                            <input type='text' name="createdByTrain" class="form-control" readonly> 
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5" ng-init="loadTeamAffiliationList()">
                                            <label>Team</label><span class="required">*</span>
                                            <select class="form-control">
                                                <option ng-repeat="teamAffiliation in teamAffiliationList">{{teamAffiliation.teamAffiliation}}</option>
                                            </select>
                                        </div>
                                    </div> 
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Explain if above is 'Other'</label>
                                            <textarea class='custom-remarks' name='otherExpTrain' contenteditable="true" spellcheck="true"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>Training course</label>
                                            <input type='text' name="trainCrs" class="form-control">
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Training by</label>
                                            <input type='text' name="trainBy" class="form-control"> 
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>Training date</label>
                                            <div class="input-group date">
                                                <div class="input-group-addon">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type='text' name="trainDate" class="form-control pull-right">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class='custom-remarks' name='remarksTrain' contenteditable="true" spellcheck="true"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-primary uppercase">Save Changes</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /training information -->
                        <form name="form.editAppreciationForm">
                            <div class="box collapsed-box blue-box" ng-show="isAdmin || isTeamManager">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editAppreciation === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-trophy"></i> &nbsp; Appreciation</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Appreciation Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editAppreciation == ''">
                                    <div>
                                        <span>
                                            No Appreciation Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editAppreciation == '')">
                                    <div class="box collapsed-box" ng-repeat="appreciation in editAppreciation">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b>Appreciation #<span ng-bind="($index + 1)"></span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Appreciation Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="box-body with-border" style="display: none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="appreciation['date_created']" name="dateCreatedAppn" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="appreciation['created_by']" name="createdByAppn" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Appraisal comments</label>
                                                    <textarea class='custom-remarks' ng-model="appreciation['appraisal_comments']" ng-maxlength="500" name='apprComm' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="appreciation['appraisal_comments'].length < 500 && appreciation['appraisal_comments'].length > -1" class="error">Input field appraisal comment is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Appraised by</label>
                                                    <input type='text' ng-model="appreciation['appraisal_by']" ng-maxlength="50" name="apprBy" class="form-control"> 
                                                    <span ng-hide="appreciation['appraisal_by'].length < 50 && appreciation['appraisal_by'].length > -1" class="error">Input field appraisal by is too long.</span>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Appraisal date</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openAppraisal($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="appreciation['appraisal_date']" ng-click="openAppraisal($index)" uib-datepicker-popup="{{format}}" is-open="openedAppraisal[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="apprDate" class="form-control pull-right white-background" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Appreciation gesture</label>
                                                    <textarea class='custom-remarks' ng-model="appreciation['appreciation_gesture']" ng-maxlength="500" name='appnGest' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="appreciation['appreciation_gesture'].length < 500 && appreciation['appreciation_gesture'].length > -1" class="error">Input field appreciation gesture is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Appreciation by</label>
                                                    <input ng-model="appreciation['appreciation_by']" ng-maxlength="50" name='appnBy' type='text' class="form-control"> 
                                                    <span ng-hide="appreciation['appreciation_by'].length < 50 && appreciation['appreciation_by'].length > -1" class="error">Input field appreciation by is too long.</span>
                                                    
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Appreciation date</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openAppreciation($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="appreciation['appreciation_date']" ng-click="openAppreciation($index)" uib-datepicker-popup="{{format}}" is-open="openedAppreciation[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="appnDate" class="form-control pull-right white-background" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class='custom-remarks' ng-model="appreciation['remarks']" ng-maxlength="1000" name='remarksAppn' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="appreciation['remarks'].length < 1000 && appreciation['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" 
                                                            ng-disabled="!(appreciation['appraisal_comments'].length < 500 && appreciation['appraisal_comments'].length > -1) || !(appreciation['appraisal_by'].length < 50 && appreciation['appraisal_by'].length > -1)
                                                                        || !(appreciation['appreciation_gesture'].length < 500 && appreciation['appreciation_gesture'].length > -1) || !(appreciation['appreciation_by'].length < 50 && appreciation['appreciation_by'].length > -1)
                                                                        || !(appreciation['remarks'].length < 1000 && appreciation['remarks'].length > -1)" 
                                                            ng-click="editTheAppreciation($event, appreciation)">Save Changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteTheAppreciation($event, appreciation)">Delete appreciation</button>
                                                    <br>
                                                    <span ng-bind="resultAppreciation.message" ng-show="resultAppreciation.status && (resultAppreciation['appreciation_id'] == appreciation['appreciation_id'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingAppreciation">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewAppreciation()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Appraisal comments</label>
                                            <textarea class='custom-remarks' ng-model="newAppreciation['appraisal_comment']" ng-maxlength="500" name='additionalapprComm' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editAppreciationForm.additionalapprComm.$error.maxlength" class="error">Input field appraisal comment is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>Appraised by</label>
                                            <input type='text' ng-model="newAppreciation['appraisal_by']" ng-maxlength="50" name="additionalapprBy" class="form-control"> 
                                            <span ng-show="form.editAppreciationForm.additionalapprBy.$error.maxlength" class="error">Input field appraisal by is too long.</span>
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Appraisal date</label>
                                            <div class="input-group date">
                                                <div class="input-group-addon btn" ng-click="openNewAppraisal()">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type='text' ng-model="newAppreciation['appraisal_date']" ng-click="openNewAppraisal()" uib-datepicker-popup="{{format}}" is-open="openedNewAppraisal" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="apprDate" class="form-control pull-right white-background" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Appreciation gesture</label>
                                            <textarea class='custom-remarks' ng-model="newAppreciation['appreciation_gesture']" ng-maxlength="500" name='additionalappnGest' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editAppreciationForm.additionalappnGest.$error.maxlength" class="error">Input field appreciation gesture is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5">
                                            <label>Appreciation by</label>
                                            <input ng-model="newAppreciation['appreciation_by']" ng-maxlength="50" name='additionalappnBy' type='text' class="form-control"> 
                                            <span ng-show="form.editAppreciationForm.additionalappnBy.$error.maxlength" class="error">Input field appreciation by is too long.</span>
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Appreciation date</label>
                                            <div class="input-group date">
                                                <div class="input-group-addon btn" ng-click="openNewAppreciation()">
                                                    <i class="fa fa-calendar"></i>
                                                </div>
                                                <input type='text' ng-model="newAppreciation['appreciation_date']" ng-click="openNewAppreciation()" uib-datepicker-popup="{{format}}" is-open="openedNewAppreciation" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name="appnDate" class="form-control pull-right white-background" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class='custom-remarks' ng-model="newAppreciation['remarks']" ng-maxlength="1000" name='additionalremarksAppn' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editAppreciationForm.additionalremarksAppn.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase"
                                                    ng-disabled="form.editAppreciationForm.additionalapprComm.$invalid || form.editAppreciationForm.additionalapprBy.$invalid || form.editAppreciationForm.additionalappnGest.$invalid
                                                                || form.editAppreciationForm.additionalappnBy.$invalid || form.editAppreciationForm.additionalremarksAppn.$invalid"
                                                    ng-click="addAppreciation()">Done</button>
                                            <br>
                                            <span ng-bind="submitNewAppreciation.message" ng-show="submitNewAppreciation.submittedAppreciation"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-click="addNewAppreciation()" ng-hide="addingAppreciation">Add new appreciation</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /appreciation information -->
                        <form name="form.editProxyForm">
                            <div class="box collapsed-box blue-box">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editProxy === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-user-plus"></i> &nbsp; Proxy</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Proxy Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editProxy == ''">
                                    <div>
                                        <span>
                                            No Proxy Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editProxy == '')">
                                    <div class="box collapsed-box" ng-repeat="proxy in editProxy">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b><span ng-bind="proxy['proxy_name']"></span></b>
                                                <b ng-if="proxy['date_obsolete'] != 'Invalid Date'"><span>(Obsolete)</span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Proxy Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="box-body with-border" style="display: none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="proxy['date_created']" name="dateCreatedProx" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="proxy['created_by']" name="createdByProx" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Proxy</label><span class="required">*</span>
                                                    <input class="form-control" type='text' ng-model="proxy['proxy_name']" readonly>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Proxy standing</label>
                                                    <textarea class='custom-remarks' ng-model="proxy['proxy_standing']" ng-maxlength="500" name='proxStand' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="proxy['proxy_standing'].length < 500 && proxy['proxy_standing'].length > -1" class="error">Input field proxy standing is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class='custom-remarks' ng-model="proxy['remarks']" ng-maxlength="1000" name='remarksProx' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="proxy['remarks'].length < 1000 && proxy['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date obsolete</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openProxy($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="proxy['date_obsolete']" ng-click="openProxy($index)" uib-datepicker-popup="{{format}}" is-open="openedProxy[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name='dateObsProx' class="form-control pull-right white-background" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-disabled="!(proxy['proxy_standing'].length < 500 && proxy['proxy_standing'].length > -1) || !(proxy['remarks'].length < 1000 && proxy['remarks'].length > -1)" ng-click="editTheProxy($event, proxy)">Save Changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteTheProxy($event, proxy)">Delete proxy</button>
                                                    <br>
                                                    <span ng-bind="resultProxy.message" ng-show="resultProxy.status && (resultProxy['proxy_id'] == proxy['proxy_id'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingProxy">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewProxy()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label style="padding-left: 15px">Proxy</label><span class="required">*</span>
                                        <div class="col-md-12">
                                            <div class="no-padding-left col-md-5 no-padding-right">
                                                <input type='text' ng-model="selected" name="additionalproxy" class="form-control" placeholder="Search proxy..." uib-typeahead="contact as contact.name for contact in allContactInfo | filter:$viewValue | limitTo:8" typeahead-template-url="style/ngTemplate/contactList-tpl.html" typeahead-on-select='onSelect($item, $model, $label)' empty>
                                            </div>    
                                            <div class="no-padding-left col-md-1">
                                                <button type="button" class="btn btn-flat" ng-click="searchContact()"><i class="fa fa-search"></i></button> 
                                            </div>
                                            <span ng-show="form.editProxyForm.additionalproxy.$error.empty && form.editProxyForm.additionalproxy.$dirty" class="error">Proxy is required.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Proxy standing</label>
                                            <textarea class='custom-remarks' ng-model="newProxy['proxy_standing']" ng-maxlength="500" name='additionalproxStand' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editProxyForm.additionalproxStand.$error.maxlength" class="error">Input field proxy standing is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class='custom-remarks' ng-model="newProxy['remarks']" ng-maxlength="1000" name='additionalremarksProx' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editProxyForm.additionalremarksProx.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase" ng-disabled="form.editProxyForm.additionalproxy.$invalid || form.editProxyForm.additionalproxStand.$invalid || form.editProxyForm.additionalremarksProx.$invalid" ng-click="addProxy()">Done</button>
                                            <br>
                                            <span ng-bind="submitNewProxy.message" ng-show="submitNewProxy.submittedProxy"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-click="addNewProxy()" ng-hide="addingProxy">Add new proxy</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /proxy information -->
                        <form name="form.editLanguageForm">
                            <div class="box collapsed-box blue-box">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editLanguages === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-language"></i> &nbsp; Languages</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Language Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editLanguages == ''">
                                    <div>
                                        <span>
                                            No Language Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editLanguages == '')">
                                    <div class="box collapsed-box" ng-repeat="language in editLanguages">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b><span ng-bind="language['language_name']"></span></b>
                                                <b ng-if="language['date_obsolete'] != 'Invalid Date'"><span>(Obsolete)</span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Language Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="box-body with-border" style="display: none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="language['date_created']" name="dateCreatedLang" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="language['created_by']" name="createdByLang" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5" ng-init="loadLanguageList()">
                                                    <label>Language</label><span class="required">*</span>
                                                    <input type='text' class="form-control" ng-model="language['language_name']" name='languages' readonly>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Speak / Write</label>
                                                    <select class="form-control" ng-model="language['proficiency']" name='speakWrite'>
                                                        <option value="speak only">speak only</option>
                                                        <option value="speak and write">speak and write</option>
                                                    </select> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Explain if above is 'Other'</label>
                                                    <textarea class='custom-remarks' ng-model="language['explain_if_other']" name='otherExpLang' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="language['explain_if_other'].length < 200 && language['explain_if_other'].length > -1" class="error">Input field explanation is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class='custom-remarks' ng-model="language['remarks']" ng-maxlength="1000" name='remarksLang' contenteditable="true" spellcheck="true"></textarea>
                                                    <span ng-hide="language['remarks'].length < 1000 && language['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date obsolete</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openLanguages($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input ng-model="language['date_obsolete']" ng-click="openLanguages($index)" uib-datepicker-popup="{{format}}" is-open="openedLanguages[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name='dateObsLang' type='text' class="form-control pull-right white-background" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-disabled="!(language['explain_if_other'].length < 200 && language['explain_if_other'].length > -1) || !(language['remarks'].length < 1000 && language['remarks'].length > -1)" ng-click="editTheLanguage($event, language)">Save Changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteTheLanguage($event, language)">Delete language</button>
                                                    <br>
                                                    <span ng-bind="resultLanguage.message" ng-show="resultLanguage.status && (resultLanguage['language_name'] == language['language_name'])"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingLanguages">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewLanguages()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-5" ng-init="loadLanguageList()">
                                            <label>Language</label><span class="required">*</span>
                                            <select class="form-control" ng-model="newLanguages['language']" name='additionallanguages' empty>
                                                <option ng-repeat="language in languageList">{{language.language}}</option>
                                            </select>  
                                        </div>
                                        <div class="col-md-offset-2 col-md-5">
                                            <label>Speak / Write</label>
                                            <select class="form-control" ng-model="newLanguages['speak_write']" name='speakWrite'>
                                                <option value="speak only">speak only</option>
                                                <option value="speak and write">speak and write</option>
                                            </select> 
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Explain if above is 'Other'</label>
                                            <textarea class='custom-remarks' ng-model="newLanguages['explain_if_other']" name='additionalotherExpLang' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editLanguageForm.additionalotherExpLang.$error.maxlength" class="error">Input field explanation is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class='custom-remarks' ng-model="newLanguages['remarks']" name='additionalremarksLang' contenteditable="true" spellcheck="true"></textarea>
                                            <span ng-show="form.editLanguageForm.additionalremarksLang.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase" ng-disabled="form.editLanguageForm.additionallanguages.$invalid || form.editLanguageForm.additionalotherExpLang.$invalid || form.editLanguageForm.additionalremarksLang.$invalid" ng-click="addLanguages()">Done</button>
                                            <br>
                                            <span ng-bind="submitNewLanguages.message" ng-show="submitNewLanguages.submittedLanguages"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-click="addNewLanguages()" ng-hide="addingLanguages">Add new language</button>
                                    </center>
                                </div>
                            </div>
                        </form>
                        <!-- /languages information -->
                        <form name="form.editSkillForm">
                            <div class="box collapsed-box blue-box">
                                <div class="box-header with-border" ng-class="{ 'no-information-grey' :  editSkillsAssets === ''}" data-widget="collapse">
                                    <h4 class="box-title uppercase"><i class="fa fa-suitcase"></i> &nbsp; Skills and Assets</h4>
                                    <div class="box-tools pull-right">
                                        <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Skills/Assets Information">
                                            <i class="fa fa-chevron-down"></i></button>
                                    </div>
                                </div>
                                <div class="box-body" ng-show="editSkillsAssets == ''">
                                    <div>
                                        <span>
                                            No Skill/Asset Information Available 
                                        </span>
                                    </div>
                                </div>
                                <div class="box-body hidden-blue-box" ng-show="!(editSkillsAssets == '')">
                                    <div class="box collapsed-box" ng-repeat="skill in editSkillsAssets">
                                        <div class="box-header with-border" style="padding: 5px" data-widget="collapse">
                                            <h5 class="box-title">
                                                <button type="button" class="btn btn-box-tool">
                                                    <i class="fa fa-pencil fa-lg"></i>
                                                </button>
                                                <b><span ng-bind="skill['skill_name']"></span></b>
                                                <b ng-if="skill['date_obsolete'] != 'Invalid Date'"><span>(Obsolete)</span></b>
                                            </h5>
                                            <div class="box-tools pull-right">
                                                <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="View Skill/Asset Details">
                                                    <i class="fa fa-chevron-down"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="box-body with-border" style="display: none">
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date created</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input type='text' ng-model="skill['date_created']" name="dateCreatedLSA" class="form-control pull-right" readonly>
                                                    </div>
                                                </div>
                                                <div class="col-md-offset-2 col-md-5">
                                                    <label>Created by</label>
                                                    <input type='text' ng-model="skill['created_by']" name="createdByLSA" class="form-control" readonly> 
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12" style="margin-top: 15px">
                                                <div class="col-md-5" ng-init="loadLSAList()">
                                                    <label>Skills or Assets</label><span class="required">*</span>
                                                    <input type='text' class="form-control" ng-model="skill['skill_name']" name='LSA' readonly>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Explain if above is 'Other'</label>
                                                    <textarea class='custom-remarks' ng-model="skill['explain_if_other']" contenteditable="true" spellcheck="true" name="otherExpSkill"></textarea>
                                                    <span ng-hide="skill['explain_if_other'].length < 200 && skill['explain_if_other'].length > -1" class="error">Input field explanation is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-12">
                                                    <label>Remarks</label>
                                                    <textarea class='custom-remarks' ng-model="skill['remarks']" ng-maxlength="1000" contenteditable="true" spellcheck="true" name="remarksSkill"></textarea>
                                                    <span ng-hide="skill['remarks'].length < 1000 && skill['remarks'].length > -1" class="error">Input field remarks is too long.</span>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-5">
                                                    <label>Date obsolete</label>
                                                    <div class="input-group date">
                                                        <div class="input-group-addon btn" ng-click="openSkills($index)">
                                                            <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input ng-model="skill['date_obsolete']" ng-click="openSkills($index)" uib-datepicker-popup="{{format}}" is-open="openedSkills[$index]" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" name='dateObsLSA' type='text' class="form-control pull-right white-background" readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <center>
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-disabled="!(skill['explain_if_other'].length < 200 && skill['explain_if_other'].length > -1) || !(skill['remarks'].length < 1000 && skill['remarks'].length > -1)" ng-click="editTheSkill($event, skill)">Save Changes</button>
                                                    &nbsp;
                                                    <button type="submit" class="btn btn-link uppercase bold" ng-click="deleteTheSkill($event, skill)">Delete skill</button>
                                                    <br>
                                                    <span ng-bind="resultSkill.message" ng-show="resultSkill.status && resultSkill['skill_name'] == skill['skill_name']"></span>
                                                </center>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="box-body hidden-box" ng-show="addingSkills">
                                    <div class="box-header">
                                        <div class="box-tools pull-right">
                                            <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="Close" ng-click="addNewSkills()">
                                                <i class="fa fa-times fa-lg"></i></button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12" style="margin-top: 15px">
                                        <div class="col-md-5" ng-init="loadLSAList()">
                                            <label>Skills or Assets</label><span class="required">*</span>
                                            <select class="form-control" ng-model="newSkills['skill_asset']" name='LSA' empty>
                                                <option ng-repeat="skill in LSAList">{{skill.lsaClass}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Explain if above is 'Other'</label>
                                            <textarea class='custom-remarks' ng-model="newSkills['explain_if_other']" ng-maxlength="200" contenteditable="true" spellcheck="true" name="additionalotherExpSkill"></textarea>
                                            <span ng-show="form.editSkillForm.additionalotherExpSkill.$error.maxlength" class="error">Input field explanation is too long.</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="col-md-12">
                                            <label>Remarks</label>
                                            <textarea class='custom-remarks' ng-model="newSkills['remarks']" ng-maxlength="1000" contenteditable="true" spellcheck="true" name="additionalremarksSkill"></textarea>
                                            <span ng-show="form.editSkillForm.additionalremarksSkill.$error.maxlength" class="error">Input field remarks is too long.</span>
                                        </div>
                                    </div>
                                    <div class='row'>
                                        <center>
                                            <button type="submit" class="btn btn-primary uppercase" ng-disabled="form.editSkillForm.LSA.$invalid || form.editSkillForm.additionalotherExpSkill.$invalid || form.editSkillForm.additionalremarksSkill.$error.maxlength" ng-click="addSkills()">Done</button>
                                            <br>
                                            <span ng-bind="submitNewSkills.message" ng-show="submitNewSkills.submittedSkills"></span>
                                        </center>
                                    </div>
                                </div>
                                <div class='box-footer'>
                                    <center>
                                        <button type="submit" class="btn btn-warning uppercase" ng-click="addNewSkills()" ng-hide="addingSkills">Add new skill</button>
                                    </center>
                                </div>
                            </div>
                            <!-- /skills & assets information -->
                        </form>
                    </div>
                    <!-- /.box-body -->
                </div>
                <!-- /.box -->
            </section>
            <!-- /.content -->
        </div>
    </body>
</html>
